---
title: "2021年工作总结"
date: 2022-01-05T20:10:24+08:00
draft: false
categories: ["职场"]
tags: ["2021年终总结", "程序员年终总结"]
description: "2021年我的年终总结"
---


21年一年下来从结果来看，战术上打了很多胜仗，但最终战略上失败了。


## 战术的成功

这一年主要的精力仍然投入在我们的主营产品：实时形体追踪系统上面，在年初我们制定了如下关键技术目标：

1. 单个项目能支持2000路规模
2. 关键服务稳定性3个9
3. 检索耗时5000W/3秒
4. 预处理单卡可以突破40路
 
为了完成技术目标，我们在Q1：
1. 明确了30多个后台性能指标的目标（耗时、成功率、Crash率等），并责任到人
2. 完善了监控告警系统（Prometheus&Grafana），将上述性能指标的所有数据上报到Promethues, 配置报表，并配置告警通知到人。
3. 启动500路压力测试

Q1是很有激情的，目标明确，也补齐了2020年没上监控系统的短板。这套方法（明确目标+监控）是很科学高效的。监控系统可以实时`量化的`告诉我们每个技术指标的情况，哪个指标没达标一目了然；并且系统发生问题可以实时告警，不再像之前人肉巡检，监控告警完全是自动化的。一轮测试下来，未达标的指标就暴露出来了，然后针对性的去优化，几周过后，大部分指标都能达标。这里的方法总结下来是：设定目标，发现问题，解决问题，最终实现目标，其中监控系统在其中起到了关键作用。

Q2, Q3，仍然延续这个思路，最终并发的路数提升到2000，峰值抓拍5K+，日抓拍记录1亿+。伴随并发、数据量的提升，我们遇到了Mysql插入延迟高、S3存图延迟高，数十亿数据Vearch内存太大等等问题，最终也都解决了。

除了这些关键技术目标，产品也迭代了7个版本，实现了：人车非等算法、结构化、边缘盒子、1400图片流、各种布控等功能，丰富了产品。同时在运维上也优化了CICD、基于ansible制作了集群一键安装包、规范了机器配置，输出了十几篇技术文档，升级组件（内核、k8s、Helm等）等等。

## 战略的失败

2020年的战略目标是把产品做出来，并且要有一些真实的项目交付来打磨产品，这个目标初步完成了。2021年的战略目标应该是提高产品到业界中上水平，然后有较多项目交付。项目交付的目标没有很好的完成。原因一是大环境上没有太多新的商机，原因二产品功能本身非强需求、一些关键的技术难题（换装）无法突破有关系，原因三行业内竞品之间拉不开差异。总之形体安防软件行业是红海，有一定市场，甲方需求的定制性和安防行业本身的人力密集型也使行业内无法一家通吃，海康大华吃掉一些大的单子，剩下一些小单子可以养活一些小公司，但会活的比较辛苦。

行业的大背景：竞争激烈、人力密集、利润低和公司的发展战略（谋求上市）其实是有一些冲突的，上市势必要求扩大营业额和提升利润，然后商务扩张，接下了很多试用的项目，很多项目都有定制需求，这样伴随着研发工作的激增和交付工作的激增。